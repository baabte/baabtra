!function(a,b){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var a=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(b,c){function d(d){var e={},f=angular.extend({},a,d);e=b(f),e.$scope.dismissable=!!f.dismissable,f.type&&(e.$scope.type=f.type);var g=e.show;return f.duration&&(e.show=function(){g(),c(function(){e.hide()},1e3*f.duration)}),e}return d}]}).directive("bsAlert",["$window","$sce","$alert",function(a,b,c){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,d,e){var f={scope:a,element:d,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content","type"],function(c){e[c]&&e.$observe(c,function(d){a[c]=b.trustAsHtml(d)})}),e.bsAlert&&a.$watch(e.bsAlert,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=c(f);d.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g&&g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var a=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(b,c,d){function e(e,h){function i(a,b,c){var d=j(),e=k();return r>=d?"top":null!==a&&d+a<=b.top?"middle":null!==s&&b.top+c+p>=e-s?"bottom":"middle"}function j(){return n[0]===b?b.pageYOffset:n[0].scrollTop}function k(){return n[0]===b?b.document.body.scrollHeight:n[0].scrollHeight}var l={},m=angular.extend({},a,h),n=m.target,o="affix affix-top affix-bottom",p=0,q=0,r=0,s=0,t=null,u=null,v=e.parent();if(m.offsetParent)if(m.offsetParent.match(/^\d+$/))for(var w=0;w<1*m.offsetParent-1;w++)v=v.parent();else v=angular.element(m.offsetParent);return l.init=function(){l.$parseOffsets(),q=d.offset(e[0]).top+p,n.on("scroll",l.checkPosition),n.on("click",l.checkPositionWithEventLoop),g.on("resize",l.$debouncedOnResize),l.checkPosition(),l.checkPositionWithEventLoop()},l.destroy=function(){n.off("scroll",l.checkPosition),n.off("click",l.checkPositionWithEventLoop),g.off("resize",l.$debouncedOnResize)},l.checkPositionWithEventLoop=function(){setTimeout(l.checkPosition,1)},l.checkPosition=function(){var a=j(),b=d.offset(e[0]),c=d.height(e[0]),g=i(u,b,c);t!==g&&(t=g,e.removeClass(o).addClass("affix"+("middle"!==g?"-"+g:"")),"top"===g?(u=null,e.css("position",m.offsetParent?"":"relative"),e.css("top","")):"bottom"===g?(u=m.offsetUnpin?-(1*m.offsetUnpin):b.top-a,e.css("position",m.offsetParent?"":"relative"),e.css("top",m.offsetParent?"":f[0].offsetHeight-s-c-q+"px")):(u=null,e.css("position","fixed"),e.css("top",p+"px")))},l.$onResize=function(){l.$parseOffsets(),l.checkPosition()},l.$debouncedOnResize=c(l.$onResize,50),l.$parseOffsets=function(){var a=e.css("position");e.css("position",m.offsetParent?"":"relative"),m.offsetTop&&("auto"===m.offsetTop&&(m.offsetTop="+0"),m.offsetTop.match(/^[-+]\d+$/)?(p=1*-m.offsetTop,r=m.offsetParent?d.offset(v[0]).top+1*m.offsetTop:d.offset(e[0]).top-d.css(e[0],"marginTop",!0)+1*m.offsetTop):r=1*m.offsetTop),m.offsetBottom&&(s=m.offsetParent&&m.offsetBottom.match(/^[-+]\d+$/)?k()-(d.offset(v[0]).top+d.height(v[0]))+1*m.offsetBottom+1:1*m.offsetBottom),e.css("position",a)},l.init(),l}var f=angular.element(b.document.body),g=angular.element(b);return e}]}).directive("bsAffix",["$affix","$window",function(a,b){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(c,d,e,f){var g={scope:c,offsetTop:"auto",target:f?f.$element:angular.element(b)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=a(d,g);c.$on("$destroy",function(){h&&h.destroy(),g=null,h=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(a){this.$element=a}]}}),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var a=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(b){function c(c){var d={},e=angular.extend({},a,c);return d=b(e)}return c}]}).directive("bsAside",["$window","$sce","$aside",function(a,b,c){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,d,e){var f={scope:a,element:d,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d){a[c]=b.trustAsHtml(d)})}),e.bsAside&&a.$watch(e.bsAside,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=c(f);d.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g&&g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var a=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:a}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="checkbox"]');angular.forEach(c,function(a){var c=angular.element(a);c.attr("bs-checkbox",""),c.attr("ng-model",b.ngModel+"."+c.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=angular.isDefined(f.trueValue)?f.trueValue:!0;d.test(f.trueValue)&&(k=a.$eval(f.trueValue));var l=angular.isDefined(f.falseValue)?f.falseValue:!1;d.test(f.falseValue)&&(l=a.$eval(f.falseValue));var m="boolean"!=typeof k||"boolean"!=typeof l;m&&(g.$parsers.push(function(a){return a?k:l}),g.$formatters.push(function(a){return angular.equals(a,k)}),a.$watch(f.ngModel,function(){g.$render()})),g.$render=function(){var a=angular.equals(g.$modelValue,k);b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){i||g.$setViewValue(!j.hasClass("active")),m||g.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="radio"]');angular.forEach(c,function(a){angular.element(a).attr("bs-radio",""),angular.element(a).attr("ng-model",b.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=d.test(f.value)?a.$eval(f.value):f.value;g.$render=function(){var a=angular.equals(g.$modelValue,k);b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){g.$setViewValue(k),g.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var a=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},b=this.controller=function(b,c,d){var e=this;e.$options=angular.copy(a),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(a){angular.isDefined(d[a])&&(e.$options[a]=d[a])}),e.$toggles=[],e.$targets=[],e.$viewChangeListeners=[],e.$registerToggle=function(a){e.$toggles.push(a)},e.$registerTarget=function(a){e.$targets.push(a)},e.$targets.$active=e.$options.startCollapsed?-1:0,e.$setActive=b.$setActive=function(a){e.$targets.$active=e.$options.disallowToggle?a:e.$targets.$active===a?-1:a,e.$viewChangeListeners.forEach(function(a){a()})}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsCollapse",["$window","$animate","$collapse",function(a,b,c){c.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",c.controller],link:function(a,b,c,d){var e=d[0],f=d[1];e&&(f.$viewChangeListeners.push(function(){e.$setViewValue(f.$targets.$active)}),e.$formatters.push(function(a){return f.$targets.$active!==1*a&&f.$setActive(1*a),a}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(a,b,c,d){var e=(d[0],d[1]);b.attr("data-toggle","collapse"),e.$registerToggle(b),b.on("click",function(){var d=c.bsCollapseToggle||e.$toggles.indexOf(b);e.$setActive(1*d),a.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(a){return{require:["^?ngModel","^bsCollapse"],link:function(b,c,d,e){function f(){var b=g.$targets.indexOf(c),d=g.$targets.$active;a[b===d?"addClass":"removeClass"](c,g.$options.activeClass)}var g=(e[0],e[1]);c.addClass("collapse"),g.$options.animation&&c.addClass(g.$options.animation),g.$registerTarget(c),g.$viewChangeListeners.push(function(){f()}),f()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:+1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip",function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a){a.selected=g.$isSelected(a.date)}function f(){b[0].focus()}var g=i(b,angular.extend({},a,d)),j=d.scope,m=g.$options,n=g.$scope;m.startView&&(m.startView-=m.minView);var o=h(g);g.$views=o.views;var p=o.viewDate;n.$mode=m.startView,n.$iconLeft=m.iconLeft,n.$iconRight=m.iconRight;var q=g.$views[n.$mode];n.$select=function(a){g.select(a)},n.$selectPane=function(a){g.$selectPane(a)},n.$toggleMode=function(){g.setMode((n.$mode+1)%g.$views.length)},g.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())&&(g.$date=a,q.update.call(q,a)),g.$build(!0)},g.updateDisabledDates=function(a){m.disabledDateRanges=a;for(var b=0,c=n.rows.length;c>b;b++)angular.forEach(n.rows[b],g.$setDisabledEl)},g.select=function(a,b){angular.isDate(c.$dateValue)||(c.$dateValue=new Date(a)),!n.$mode||b?(c.$setViewValue(angular.copy(a)),c.$render(),m.autoclose&&!b&&g.hide(!0)):(angular.extend(p,{year:a.getFullYear(),month:a.getMonth(),date:a.getDate()}),g.setMode(n.$mode-1),g.$build())},g.setMode=function(a){n.$mode=a,q=g.$views[n.$mode],g.$build()},g.$build=function(a){a===!0&&q.built||(a!==!1||q.built)&&q.build.call(q)},g.$updateSelected=function(){for(var a=0,b=n.rows.length;b>a;a++)angular.forEach(n.rows[a],e)},g.$isSelected=function(a){return q.isSelected(a)},g.$setDisabledEl=function(a){a.disabled=q.isDisabled(a.date)},g.$selectPane=function(a){var b=q.steps,c=new Date(Date.UTC(p.year+(b.year||0)*a,p.month+(b.month||0)*a,p.date+(b.day||0)*a));angular.extend(p,{year:c.getUTCFullYear(),month:c.getUTCMonth(),date:c.getUTCDate()}),g.$build()},g.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),l){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},g.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return n.$mode?n.$apply(function(){g.setMode(n.$mode-1)}):g.hide(!0);q.onKeyDown(a),j.$digest()}};var r=g.init;g.init=function(){return k&&m.useNative?(b.prop("type","date"),void b.css("-webkit-appearance","textfield")):(l&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",f)),void r())};var s=g.destroy;g.destroy=function(){k&&m.useNative&&b.off("click",f),s()};var t=g.show;g.show=function(){t(),setTimeout(function(){g.$element.on(l?"touchstart":"mousedown",g.$onMouseDown),m.keyboard&&b.on("keydown",g.$onKeyDown)})};var u=g.hide;return g.hide=function(a){g.$isShown&&(g.$element.off(l?"touchstart":"mousedown",g.$onMouseDown),m.keyboard&&b.off("keydown",g.$onKeyDown),u(a))},g}var k=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),l="createTouch"in b.document&&k;return a.lang||(a.lang=f.id),j.defaults=a,j}]}).directive("bsDatepicker",["$window","$parse","$q","$locale","dateFilter","$datepicker","$dateParser","$timeout",function(a,b,c,d,e,f,g){var h=(f.defaults,/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(a,b,c,d){function i(a){return a&&a.length?a:null}function j(a){if(angular.isDate(a)){var b=isNaN(l.$options.minDate)||a.getTime()>=l.$options.minDate,c=isNaN(l.$options.maxDate)||a.getTime()<=l.$options.maxDate,e=b&&c;d.$setValidity("date",e),d.$setValidity("min",b),d.$setValidity("max",c),e&&(d.$dateValue=a)}}var k={scope:a,controller:d};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(a){angular.isDefined(c[a])&&(k[a]=c[a])}),c.bsShow&&a.$watch(c.bsShow,function(a){l&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(datepicker),?/i)),a===!0?l.show():l.hide())});var l=f(b,d,k);k=l.$options,h&&k.useNative&&(k.dateFormat="yyyy-MM-dd");var m=g({format:k.dateFormat,lang:k.lang,strict:k.strictFormat});angular.forEach(["minDate","maxDate"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){l.$options[a]=m.getDateForAttribute(a,b),!isNaN(l.$options[a])&&l.$build(!1),j(d.$dateValue)})}),a.$watch(c.ngModel,function(){l.update(d.$dateValue)},!0),angular.isDefined(c.disabledDates)&&a.$watch(c.disabledDates,function(a,b){a=i(a),b=i(b),a&&l.updateDisabledDates(a)}),d.$parsers.unshift(function(a){if(!a)return void d.$setValidity("date",!0);var b=m.parse(a,d.$dateValue);return!b||isNaN(b.getTime())?void d.$setValidity("date",!1):(j(b),"string"===k.dateType?e(b,k.modelDateFormat||k.dateFormat):"number"===k.dateType?d.$dateValue.getTime():"iso"===k.dateType?d.$dateValue.toISOString():new Date(d.$dateValue))}),d.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===k.dateType?m.parse(a,null,k.modelDateFormat):new Date(a),d.$dateValue=b,d.$dateValue}),d.$render=function(){b.val(!d.$dateValue||isNaN(d.$dateValue.getTime())?"":e(d.$dateValue,k.dateFormat))},a.$on("$destroy",function(){l&&l.destroy(),k=null,l=null})}}}]).provider("datepickerViews",function(){function a(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function b(a,b){return(a%b+b)%b}this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$locale","$sce","dateFilter","$dateParser",function(c,d,e,f){return function(g){var h=g.$scope,i=g.$options,j=f(),k=c.DATETIME_FORMATS.SHORTDAY,l=k.slice(i.startWeek).concat(k.slice(0,i.startWeek)),m=d.trustAsHtml('<th class="dow text-center">'+l.join('</th><th class="dow text-center">')+"</th>"),n=g.$date||(i.startDate?j.getDateForAttribute("startDate",i.startDate):new Date),o={year:n.getFullYear(),month:n.getMonth(),date:n.getDate()},p=(6e4*n.getTimezoneOffset(),[{format:i.dayFormat,split:7,steps:{month:1},update:function(a,b){!this.built||b||a.getFullYear()!==o.year||a.getMonth()!==o.month?(angular.extend(o,{year:g.$date.getFullYear(),month:g.$date.getMonth(),date:g.$date.getDate()}),g.$build()):a.getDate()!==o.date&&(o.date=g.$date.getDate(),g.$updateSelected())},build:function(){var c=new Date(o.year,o.month,1),d=c.getTimezoneOffset(),f=new Date(+c-864e5*b(c.getDay()-i.startWeek,7)),j=f.getTimezoneOffset(),k=(new Date).toDateString();j!==d&&(f=new Date(+f+6e4*(j-d)));for(var l,n=[],p=0;42>p;p++)l=new Date(f.getFullYear(),f.getMonth(),f.getDate()+p),n.push({date:l,isToday:l.toDateString()===k,label:e(l,this.format),selected:g.$date&&this.isSelected(l),muted:l.getMonth()!==o.month,disabled:this.isDisabled(l)});h.title=e(c,"MMMM yyyy"),h.showLabels=!0,h.labels=m,h.rows=a(n,this.split),this.built=!0},isSelected:function(a){return g.$date&&a.getFullYear()===g.$date.getFullYear()&&a.getMonth()===g.$date.getMonth()&&a.getDate()===g.$date.getDate()},isDisabled:function(a){var b=a.getTime();if(b<i.minDate||b>i.maxDate)return!0;if(-1!==i.daysOfWeekDisabled.indexOf(a.getDay()))return!0;if(i.disabledDateRanges)for(var c=0;c<i.disabledDateRanges.length;c++)if(b>=i.disabledDateRanges[c].start&&b<=i.disabledDateRanges[c].end)return!0;return!1},onKeyDown:function(a){var b,c=g.$date.getTime();37===a.keyCode?b=new Date(c-864e5):38===a.keyCode?b=new Date(c-6048e5):39===a.keyCode?b=new Date(c+864e5):40===a.keyCode&&(b=new Date(c+6048e5)),this.isDisabled(b)||g.select(b,!0)}},{name:"month",format:"MMM",split:4,steps:{year:1},update:function(a){this.built&&a.getFullYear()===o.year?a.getMonth()!==o.month&&(angular.extend(o,{month:g.$date.getMonth(),date:g.$date.getDate()}),g.$updateSelected()):(angular.extend(o,{year:g.$date.getFullYear(),month:g.$date.getMonth(),date:g.$date.getDate()}),g.$build())},build:function(){for(var b,c=(new Date(o.year,0,1),[]),d=0;12>d;d++)b=new Date(o.year,d,1),c.push({date:b,label:e(b,this.format),selected:g.$isSelected(b),disabled:this.isDisabled(b)});h.title=e(b,"yyyy"),h.showLabels=!1,h.rows=a(c,this.split),this.built=!0},isSelected:function(a){return g.$date&&a.getFullYear()===g.$date.getFullYear()&&a.getMonth()===g.$date.getMonth()},isDisabled:function(a){var b=+new Date(a.getFullYear(),a.getMonth()+1,0);return b<i.minDate||a.getTime()>i.maxDate},onKeyDown:function(a){var b=g.$date.getMonth(),c=new Date(g.$date);37===a.keyCode?c.setMonth(b-1):38===a.keyCode?c.setMonth(b-4):39===a.keyCode?c.setMonth(b+1):40===a.keyCode&&c.setMonth(b+4),this.isDisabled(c)||g.select(c,!0)}},{name:"year",format:"yyyy",split:4,steps:{year:12},update:function(a,b){!this.built||b||parseInt(a.getFullYear()/20,10)!==parseInt(o.year/20,10)?(angular.extend(o,{year:g.$date.getFullYear(),month:g.$date.getMonth(),date:g.$date.getDate()}),g.$build()):a.getFullYear()!==o.year&&(angular.extend(o,{year:g.$date.getFullYear(),month:g.$date.getMonth(),date:g.$date.getDate()}),g.$updateSelected())},build:function(){for(var b,c=o.year-o.year%(3*this.split),d=[],f=0;12>f;f++)b=new Date(c+f,0,1),d.push({date:b,label:e(b,this.format),selected:g.$isSelected(b),disabled:this.isDisabled(b)});h.title=d[0].label+"-"+d[d.length-1].label,h.showLabels=!1,h.rows=a(d,this.split),this.built=!0},isSelected:function(a){return g.$date&&a.getFullYear()===g.$date.getFullYear()},isDisabled:function(a){var b=+new Date(a.getFullYear()+1,0,0);return b<i.minDate||a.getTime()>i.maxDate},onKeyDown:function(a){var b=g.$date.getFullYear(),c=new Date(g.$date);37===a.keyCode?c.setYear(b-1):38===a.keyCode?c.setYear(b-4):39===a.keyCode?c.setYear(b+1):40===a.keyCode&&c.setYear(b+4),this.isDisabled(c)||g.select(c,!0)}}]);return{views:i.minView?Array.prototype.slice.call(p,i.minView):p,viewDate:o}}}]}),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function a(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function b(){}function c(a){return!isNaN(parseFloat(a))&&isFinite(a)}function d(a,b){for(var c=a.length,d=b.toString().toLowerCase(),e=0;c>e;e++)if(a[e].toLowerCase()===d)return e;return-1}a.prototype.setMilliseconds=function(a){this.milliseconds=a},a.prototype.setSeconds=function(a){this.seconds=a},a.prototype.setMinutes=function(a){this.minutes=a},a.prototype.setHours=function(a){this.hours=a},a.prototype.getHours=function(){return this.hours},a.prototype.setDate=function(a){this.day=a},a.prototype.setMonth=function(a){this.month=a},a.prototype.setFullYear=function(a){this.year=a},a.prototype.fromDate=function(a){return this.year=a.getFullYear(),this.month=a.getMonth(),this.day=a.getDate(),this.hours=a.getHours(),this.minutes=a.getMinutes(),this.seconds=a.getSeconds(),this.milliseconds=a.getMilliseconds(),this},a.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var e=a.prototype,f=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(g,h){var i=function(i){function j(a){var b,c=Object.keys(r),d=[],e=[],f=a;for(b=0;b<c.length;b++)if(a.split(c[b]).length>1){var g=f.search(c[b]);a=a.split(c[b]).join(""),r[c[b]]&&(d[g]=r[c[b]])}return angular.forEach(d,function(a){a&&e.push(a)}),e}function k(a){return a.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function l(a){var b,c=Object.keys(q),d=a;for(b=0;b<c.length;b++)d=d.split(c[b]).join("${"+b+"}");for(b=0;b<c.length;b++)d=d.split("${"+b+"}").join("("+q[c[b]]+")");return a=k(a),new RegExp("^"+d+"$",["i"])}var m,n,o=angular.extend({},f,i),p={},q={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:o.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:g.DATETIME_FORMATS.DAY.join("|"),EEE:g.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:o.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:g.DATETIME_FORMATS.MONTH.join("|"),MMM:g.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:o.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},r={sss:e.setMilliseconds,ss:e.setSeconds,s:e.setSeconds,mm:e.setMinutes,m:e.setMinutes,HH:e.setHours,H:e.setHours,hh:e.setHours,h:e.setHours,EEEE:b,EEE:b,dd:e.setDate,d:e.setDate,a:function(a){var b=this.getHours()%12;return this.setHours(a.match(/pm/i)?b+12:b)},MMMM:function(a){return this.setMonth(d(g.DATETIME_FORMATS.MONTH,a))},MMM:function(a){return this.setMonth(d(g.DATETIME_FORMATS.SHORTMONTH,a))},MM:function(a){return this.setMonth(1*a-1)},M:function(a){return this.setMonth(1*a-1)},yyyy:e.setFullYear,yy:function(a){return this.setFullYear(2e3+1*a)},y:e.setFullYear};return p.init=function(){p.$format=g.DATETIME_FORMATS[o.format]||o.format,m=l(p.$format),n=j(p.$format)},p.isValid=function(a){return angular.isDate(a)?!isNaN(a.getTime()):m.test(a)},p.parse=function(b,c,d){angular.isDate(b)&&(b=h(b,d||p.$format));var e=d?l(d):m,f=d?j(d):n,g=e.exec(b);if(!g)return!1;for(var i=(new a).fromDate(c&&!isNaN(c.getTime())?c:new Date(1970,0,1,0)),k=0;k<g.length-1;k++)f[k]&&f[k].call(i,g[k+1]);return i.toDate()},p.getDateForAttribute=function(a,b){var d;if("today"===b){var e=new Date;d=new Date(e.getFullYear(),e.getMonth(),e.getDate()+("maxDate"===a?1:0),0,0,0,"minDate"===a?0:-1)}else d=angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)):c(b)?new Date(parseInt(b,10)):angular.isString(b)&&0===b.length?"minDate"===a?-1/0:+1/0:new Date(b);return d},p.getTimeForAttribute=function(a,b){var d;return d="now"===b?(new Date).setFullYear(1970,0,1):angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)).setFullYear(1970,0,1):c(b)?new Date(parseInt(b,10)).setFullYear(1970,0,1):angular.isString(b)&&0===b.length?"minTime"===a?-1/0:+1/0:p.parse(b,new Date(1970,0,1,0))},p.init(),p};return i}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(a){return function(b,c,d){var e=null;return function(){var f=this,g=arguments,h=d&&!e;return e&&a.cancel(e),e=a(function(){e=null,d||b.apply(f,g)},c,!1),h&&b.apply(f,g),e}}}]).factory("throttle",["$timeout",function(a){return function(b,c,d){var e=null;return d||(d={}),function(){var f=this,g=arguments;e||(d.leading!==!1&&b.apply(f,g),e=a(function(){e=null,d.trailing!==!1&&b.apply(f,g)},c,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var b=(angular.element,{}),c=b.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};b.css=function(b,c,d){var e;return e=b.currentStyle?b.currentStyle[c]:a.getComputedStyle?a.getComputedStyle(b)[c]:b.style[c],d===!0?parseFloat(e)||0:e},b.offset=function(b){var c=b.getBoundingClientRect(),d=b.ownerDocument;return{width:c.width||b.offsetWidth,height:c.height||b.offsetHeight,top:c.top+(a.pageYOffset||d.documentElement.scrollTop)-(d.documentElement.clientTop||0),left:c.left+(a.pageXOffset||d.documentElement.scrollLeft)-(d.documentElement.clientLeft||0)}},b.position=function(a){var e,f,g={top:0,left:0};return"fixed"===b.css(a,"position")?f=a.getBoundingClientRect():(e=d(a),f=b.offset(a),f=b.offset(a),c(e,"html")||(g=b.offset(e)),g.top+=b.css(e,"borderTopWidth",!0),g.left+=b.css(e,"borderLeftWidth",!0)),{width:a.offsetWidth,height:a.offsetHeight,top:f.top-g.top-b.css(a,"marginTop",!0),left:f.left-g.left-b.css(a,"marginLeft",!0)}};var d=function(a){var d=a.ownerDocument,e=a.offsetParent||d;if(c(e,"#document"))return d.documentElement;for(;e&&!c(e,"html")&&"static"===b.css(e,"position");)e=e.offsetParent;return e||d.documentElement};return b.height=function(a,c){var d=a.offsetHeight;return c?d+=b.css(a,"marginTop",!0)+b.css(a,"marginBottom",!0):d-=b.css(a,"paddingTop",!0)+b.css(a,"paddingBottom",!0)+b.css(a,"borderTopWidth",!0)+b.css(a,"borderBottomWidth",!0),d},b.width=function(a,c){var d=a.offsetWidth;return c?d+=b.css(a,"marginLeft",!0)+b.css(a,"marginRight",!0):d-=b.css(a,"paddingLeft",!0)+b.css(a,"paddingRight",!0)+b.css(a,"borderLeftWidth",!0)+b.css(a,"borderRightWidth",!0),d},b}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f),{label:d,value:e,index:c}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return g.$values=b?f(b,a):{},g.$values})},g.displayValue=function(a){var b={};return b[k]=a,j(b)},g.init(),g}return d}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var a=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip",function(b,c,d){function e(b,e){function h(a){return a.target!==b[0]?a.target!==b[0]&&i.hide():void 0}{var i={},j=angular.extend({},a,e);i.$scope=j.scope&&j.scope.$new()||c.$new()}i=d(b,j);var k=b.parent();i.$onKeyDown=function(a){if(/(38|40)/.test(a.keyCode)){a.preventDefault(),a.stopPropagation();var b=angular.element(i.$element[0].querySelectorAll("li:not(.divider) a"));if(b.length){var c;angular.forEach(b,function(a,b){g&&g.call(a,":focus")&&(c=b)}),38===a.keyCode&&c>0?c--:40===a.keyCode&&c<b.length-1?c++:angular.isUndefined(c)&&(c=0),b.eq(c)[0].focus()}}};var l=i.show;i.show=function(){l(),setTimeout(function(){j.keyboard&&i.$element.on("keydown",i.$onKeyDown),f.on("click",h)}),k.hasClass("dropdown")&&k.addClass("open")};var m=i.hide;return i.hide=function(){i.$isShown&&(j.keyboard&&i.$element.off("keydown",i.$onKeyDown),f.off("click",h),k.hasClass("dropdown")&&k.removeClass("open"),m())},i}var f=angular.element(b.document.body),g=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return e}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,b,d){var e={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(a){angular.isDefined(d[a])&&(e[a]=d[a])}),d.bsDropdown&&a.$watch(d.bsDropdown,function(b){a.content=b},!0),d.bsShow&&a.$watch(d.bsShow,function(a){f&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(dropdown),?/i)),a===!0?f.show():f.hide())});var f=c(b,e);a.$on("$destroy",function(){f&&f.destroy(),e=null,f=null})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var a=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(c,d,e,f,g,h,i,j,k){function l(b){function c(){l.$emit(j.prefixEvent+".show",h)}function f(){l.$emit(j.prefixEvent+".hide",h),r.removeClass(j.prefixClass+"-open"),j.animation&&r.removeClass(j.prefixClass+"-with-"+j.animation)}function g(a){a.target===a.currentTarget&&("static"===j.backdrop?h.focus():h.hide())}var h={},j=h.$options=angular.extend({},a,b);h.$promise=n(j.template);var l=h.$scope=j.scope&&j.scope.$new()||d.$new();j.element||j.container||(j.container="body"),o(["title","content"],function(a){j[a]&&(l[a]=k.trustAsHtml(j[a]))}),l.$hide=function(){l.$$postDigest(function(){h.hide()})},l.$show=function(){l.$$postDigest(function(){h.show()})},l.$toggle=function(){l.$$postDigest(function(){h.toggle()})},j.contentTemplate&&(h.$promise=h.$promise.then(function(a){var c=angular.element(a);return n(j.contentTemplate).then(function(a){var d=m('[ng-bind="content"]',c[0]).removeAttr("ng-bind").html(a);return b.template||d.next().remove(),c[0].outerHTML})}));var t,u,v=angular.element('<div class="'+j.prefixClass+'-backdrop"/>');return h.$promise.then(function(a){angular.isObject(a)&&(a=a.data),j.html&&(a=a.replace(s,'ng-bind-html="')),a=p.apply(a),t=e(a),h.init()}),h.init=function(){j.show&&l.$$postDigest(function(){h.show()})},h.destroy=function(){u&&(u.remove(),u=null),v&&(v.remove(),v=null),l.$destroy()},h.show=function(){if(!l.$isShown&&!l.$emit(j.prefixEvent+".show.before",h).defaultPrevented){var a;a=angular.isElement(j.container)?j.container:j.container?m(j.container):null;var b=j.container?null:j.element;u=h.$element=t(l,function(){}),u.css({display:"block"}).addClass(j.placement),j.animation&&(j.backdrop&&v.addClass(j.backdropAnimation),u.addClass(j.animation)),j.backdrop&&i.enter(v,r,null);
var d=i.enter(u,a,b,c);d&&d.then&&d.then(c),l.$isShown=!0,l.$$phase||l.$root&&l.$root.$$phase||l.$digest();var e=u[0];q(function(){e.focus()}),r.addClass(j.prefixClass+"-open"),j.animation&&r.addClass(j.prefixClass+"-with-"+j.animation),j.backdrop&&(u.on("click",g),v.on("click",g)),j.keyboard&&u.on("keyup",h.$onKeyUp)}},h.hide=function(){if(l.$isShown&&!l.$emit(j.prefixEvent+".hide.before",h).defaultPrevented){var a=i.leave(u,f);a&&a.then&&a.then(f),j.backdrop&&i.leave(v),l.$isShown=!1,l.$$phase||l.$root&&l.$root.$$phase||l.$digest(),j.backdrop&&(u.off("click",g),v.off("click",g)),j.keyboard&&u.off("keyup",h.$onKeyUp)}},h.toggle=function(){l.$isShown?h.hide():h.show()},h.focus=function(){u[0].focus()},h.$onKeyUp=function(a){27===a.which&&l.$isShown&&(h.hide(),a.stopPropagation())},h}function m(a,c){return angular.element((c||b).querySelectorAll(a))}function n(a){return f.when(g.get(a)||h.get(a)).then(function(b){return angular.isObject(b)?(g.put(a,b.data),b.data):b})}var o=angular.forEach,p=String.prototype.trim,q=c.requestAnimationFrame||c.setTimeout,r=angular.element(c.document.body),s=/ng-bind="/gi;return l}]}).directive("bsModal",["$window","$sce","$modal",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,d,e){var f={scope:a,element:d,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d){a[c]=b.trustAsHtml(d)})}),e.bsModal&&a.$watch(e.bsModal,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=c(f);d.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g&&g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var a=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:a}}}).directive("bsNavbar",["$window","$location","$navbar",function(a,b,c){var d=c.defaults;return{restrict:"A",link:function(a,c,e){var f=angular.copy(d);angular.forEach(Object.keys(d),function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),a.$watch(function(){return b.path()},function(a){var b=c[0].querySelectorAll("li["+f.routeAttr+"]");angular.forEach(b,function(b){var c=angular.element(b),d=c.attr(f.routeAttr).replace("/","\\/");f.strict&&(d="^"+d+"$");var e=new RegExp(d,["i"]);e.test(a)?c.addClass(f.activeClass):c.removeClass(f.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var a=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0};this.$get=["$tooltip",function(b){function c(c,d){var e=angular.extend({},a,d),f=b(c,e);return e.content&&(f.$scope.content=e.content),f}return c}]}).directive("bsPopover",["$window","$sce","$popover",function(a,b,c){var d=a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,e,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])}),angular.forEach(["title","content"],function(c){f[c]&&f.$observe(c,function(e,f){a[c]=b.trustAsHtml(e),angular.isDefined(f)&&d(function(){h&&h.$applyPlacement()})})}),f.bsPopover&&a.$watch(f.bsPopover,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b,angular.isDefined(c)&&d(function(){h&&h.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(popover),?/i)),a===!0?h.show():h.hide())});var h=c(e,g);a.$on("$destroy",function(){h&&h.destroy(),g=null,h=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var a=this.$$spies={},c=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(d,e,f,g,h,i){function j(a,b){return a[0].nodeName&&a[0].nodeName.toLowerCase()===b.toLowerCase()}function k(e){var k=angular.extend({},c,e);k.element||(k.element=n);var o=j(k.element,"body"),p=o?l:k.element,q=o?"window":k.id;if(a[q])return a[q].$$count++,a[q];var r,s,t,u,v,w,x,y,z={},A=z.$trackedElements=[],B=[];return z.init=function(){this.$$count=1,u=h(this.checkPosition,k.debounce),v=i(this.checkPosition,k.throttle),p.on("click",this.checkPositionWithEventLoop),l.on("resize",u),p.on("scroll",v),w=h(this.checkOffsets,k.debounce),r=f.$on("$viewContentLoaded",w),s=f.$on("$includeContentLoaded",w),w(),q&&(a[q]=z)},z.destroy=function(){this.$$count--,this.$$count>0||(p.off("click",this.checkPositionWithEventLoop),l.off("resize",u),p.off("scroll",u),r(),s(),q&&delete a[q])},z.checkPosition=function(){if(B.length){if(y=(o?d.pageYOffset:p.prop("scrollTop"))||0,x=Math.max(d.innerHeight,m.prop("clientHeight")),y<B[0].offsetTop&&t!==B[0].target)return z.$activateElement(B[0]);for(var a=B.length;a--;)if(!angular.isUndefined(B[a].offsetTop)&&null!==B[a].offsetTop&&t!==B[a].target&&!(y<B[a].offsetTop||B[a+1]&&y>B[a+1].offsetTop))return z.$activateElement(B[a])}},z.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},z.$activateElement=function(a){if(t){var b=z.$getTrackedElement(t);b&&(b.source.removeClass("active"),j(b.source,"li")&&j(b.source.parent().parent(),"li")&&b.source.parent().parent().removeClass("active"))}t=a.target,a.source.addClass("active"),j(a.source,"li")&&j(a.source.parent().parent(),"li")&&a.source.parent().parent().addClass("active")},z.$getTrackedElement=function(a){return A.filter(function(b){return b.target===a})[0]},z.checkOffsets=function(){angular.forEach(A,function(a){var c=b.querySelector(a.target);a.offsetTop=c?g.offset(c).top:null,k.offset&&null!==a.offsetTop&&(a.offsetTop-=1*k.offset)}),B=A.filter(function(a){return null!==a.offsetTop}).sort(function(a,b){return a.offsetTop-b.offsetTop}),u()},z.trackElement=function(a,b){A.push({target:a,source:b})},z.untrackElement=function(a,b){for(var c,d=A.length;d--;)if(A[d].target===a&&A[d].source===b){c=d;break}A=A.splice(c,1)},z.activate=function(a){A[a].addClass("active")},z.init(),z}var l=angular.element(d),m=angular.element(e.prop("documentElement")),n=angular.element(d.document.body);return k}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"EAC",link:function(a,b,c){var e={scope:a};angular.forEach(["offset","target"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])});var f=d(e);f.trackElement(e.target,b),a.$on("$destroy",function(){f&&(f.untrackElement(e.target,b),f.destroy()),e=null,f=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(a){var b=a[0].querySelectorAll("li > a[href]");angular.forEach(b,function(a){var b=angular.element(a);b.parent().attr("bs-scrollspy","").attr("data-target",b.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var a=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip",function(b,c,d,e){function f(b,c,d){var f={},g=angular.extend({},a,d);f=e(b,g);var i=f.$scope;i.$matches=[],i.$activeIndex=0,i.$isMultiple=g.multiple,i.$showAllNoneButtons=g.allNoneButtons&&g.multiple,i.$iconCheckmark=g.iconCheckmark,i.$activate=function(a){i.$$postDigest(function(){f.activate(a)})},i.$select=function(a){i.$$postDigest(function(){f.select(a)})},i.$isVisible=function(){return f.$isVisible()},i.$isActive=function(a){return f.$isActive(a)},i.$selectAll=function(){for(var a=0;a<i.$matches.length;a++)i.$isActive(a)||i.$select(a)},i.$selectNone=function(){for(var a=0;a<i.$matches.length;a++)i.$isActive(a)&&i.$select(a)},f.update=function(a){i.$matches=a,f.$updateActiveIndex()},f.activate=function(a){return g.multiple?(i.$activeIndex.sort(),f.$isActive(a)?i.$activeIndex.splice(i.$activeIndex.indexOf(a),1):i.$activeIndex.push(a),g.sort&&i.$activeIndex.sort()):i.$activeIndex=a,i.$activeIndex},f.select=function(a){var b=i.$matches[a].value;i.$apply(function(){f.activate(a),g.multiple?c.$setViewValue(i.$activeIndex.map(function(a){return i.$matches[a].value})):(c.$setViewValue(b),f.hide())}),i.$emit(g.prefixEvent+".select",b,a)},f.$updateActiveIndex=function(){c.$modelValue&&i.$matches.length?i.$activeIndex=g.multiple&&angular.isArray(c.$modelValue)?c.$modelValue.map(function(a){return f.$getIndex(a)}):f.$getIndex(c.$modelValue):i.$activeIndex>=i.$matches.length&&(i.$activeIndex=g.multiple?[]:0)},f.$isVisible=function(){return g.minLength&&c?i.$matches.length&&c.$viewValue.length>=g.minLength:i.$matches.length},f.$isActive=function(a){return g.multiple?-1!==i.$activeIndex.indexOf(a):i.$activeIndex===a},f.$getIndex=function(a){var b=i.$matches.length,c=b;if(b){for(c=b;c--&&i.$matches[c].value!==a;);if(!(0>c))return c}},f.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),h){var b=angular.element(a.target);b.triggerHandler("click")}},f.$onKeyDown=function(a){if(/(9|13|38|40)/.test(a.keyCode)){if(a.preventDefault(),a.stopPropagation(),!g.multiple&&(13===a.keyCode||9===a.keyCode))return f.select(i.$activeIndex);38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest()}};var j=f.show;f.show=function(){j(),g.multiple&&f.$element.addClass("select-multiple"),setTimeout(function(){f.$element.on(h?"touchstart":"mousedown",f.$onMouseDown),g.keyboard&&b.on("keydown",f.$onKeyDown)})};var k=f.hide;return f.hide=function(){f.$element.off(h?"touchstart":"mousedown",f.$onMouseDown),g.keyboard&&b.off("keydown",f.$onKeyDown),k(!0)},f}var g=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),h="createTouch"in b.document&&g;return f.defaults=a,f}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a,placeholder:f.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])}),"select"===b[0].nodeName.toLowerCase()){var i=b;i.css("display","none"),b=angular.element('<button type="button" class="btn btn-default"></button>'),i.after(b)}var j=e(c.ngOptions),k=d(b,g,h),l=j.$match[7].replace(/\|.+/,"").trim();a.$watch(l,function(){j.valuesFn(a,g).then(function(a){k.update(a),g.$render()})},!0),a.$watch(c.ngModel,function(){k.$updateActiveIndex(),g.$render()},!0),g.$render=function(){var a,c;h.multiple&&angular.isArray(g.$modelValue)?(a=g.$modelValue.map(function(a){return c=k.$getIndex(a),angular.isDefined(c)?k.$scope.$matches[c].label:!1}).filter(angular.isDefined),a=a.length>(h.maxLength||f.maxLength)?a.length+" "+(h.maxLengthHtml||f.maxLengthHtml):a.join(", ")):(c=k.$getIndex(g.$modelValue),a=angular.isDefined(c)?k.$scope.$matches[c].label:!1),b.html((a?a:h.placeholder)+f.caretHtml)},a.$on("$destroy",function(){k&&k.destroy(),h=null,k=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var a=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},b=this.controller=function(b,c,d){var e=this;e.$options=angular.copy(a),angular.forEach(["animation","navClass","activeClass"],function(a){angular.isDefined(d[a])&&(e.$options[a]=d[a])}),b.$navClass=e.$options.navClass,b.$activeClass=e.$options.activeClass,e.$panes=b.$panes=[],e.$viewChangeListeners=[],e.$push=function(a){e.$panes.push(a)},e.$remove=function(a){var b=e.$panes.indexOf(a),c=e.$panes.$active;e.$panes.splice(b,1),c>b?c--:b===c&&c===e.$panes.length&&c--,e.$setActive(c)},e.$panes.$active=0,e.$setActive=b.$setActive=function(a){e.$panes.$active=a,e.$viewChangeListeners.forEach(function(a){a()})}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsTabs",["$window","$animate","$tab",function(a,b,c){var d=c.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",c.controller],templateUrl:function(a,b){return b.template||d.template},link:function(a,b,c,d){var e=d[0],f=d[1];e&&(f.$viewChangeListeners.push(function(){e.$setViewValue(f.$panes.$active)}),e.$formatters.push(function(a){return f.$setActive(1*a),a}))}}}]).directive("bsPane",["$window","$animate","$sce",function(a,b,c){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(a,d,e,f){function g(){var c=h.$panes.indexOf(a),e=h.$panes.$active;b[c===e?"addClass":"removeClass"](d,h.$options.activeClass)}var h=(f[0],f[1]);d.addClass("tab-pane"),e.$observe("title",function(b){a.title=c.trustAsHtml(b)}),h.$options.animation&&d.addClass(h.$options.animation),h.$push(a),a.$on("$destroy",function(){h.$remove(a)}),h.$viewChangeListeners.push(function(){g()}),g()}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:+1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","$tooltip","$timeout",function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a,c){if(b[0].createTextRange){var d=b[0].createTextRange();d.collapse(!0),d.moveStart("character",a),d.moveEnd("character",c),d.select()}else b[0].setSelectionRange?b[0].setSelectionRange(a,c):angular.isUndefined(b[0].selectionStart)&&(b[0].selectionStart=a,b[0].selectionEnd=c)}function j(){b[0].focus()}var m=h(b,angular.extend({},a,d)),n=d.scope,o=m.$options,p=m.$scope,q=0,r=c.$dateValue||new Date,s={hour:r.getHours(),meridian:r.getHours()<12,minute:r.getMinutes(),second:r.getSeconds(),millisecond:r.getMilliseconds()},t=f.DATETIME_FORMATS[o.timeFormat]||o.timeFormat,u=/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(t).slice(1);p.$iconUp=o.iconUp,p.$iconDown=o.iconDown,p.$select=function(a,b){m.select(a,b)},p.$moveIndex=function(a,b){m.$moveIndex(a,b)},p.$switchMeridian=function(a){m.switchMeridian(a)},m.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())?(m.$date=a,angular.extend(s,{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}),m.$build()):m.$isBuilt||m.$build()},m.select=function(a,b,d){(!c.$dateValue||isNaN(c.$dateValue.getTime()))&&(c.$dateValue=new Date(1970,0,1)),angular.isDate(a)||(a=new Date(a)),0===b?c.$dateValue.setHours(a.getHours()):1===b&&c.$dateValue.setMinutes(a.getMinutes()),c.$setViewValue(c.$dateValue),c.$render(),o.autoclose&&!d&&i(function(){m.hide(!0)})},m.switchMeridian=function(a){if(c.$dateValue&&!isNaN(c.$dateValue.getTime())){var b=(a||c.$dateValue).getHours();c.$dateValue.setHours(12>b?b+12:b-12),c.$setViewValue(c.$dateValue),c.$render()}},m.$build=function(){var a,b,c=p.midIndex=parseInt(o.length/2,10),d=[];for(a=0;a<o.length;a++)b=new Date(1970,0,1,s.hour-(c-a)*o.hourStep),d.push({date:b,label:g(b,u[0]),selected:m.$date&&m.$isSelected(b,0),disabled:m.$isDisabled(b,0)});var e,f=[];for(a=0;a<o.length;a++)e=new Date(1970,0,1,0,s.minute-(c-a)*o.minuteStep),f.push({date:e,label:g(e,u[2]),selected:m.$date&&m.$isSelected(e,1),disabled:m.$isDisabled(e,1)});var h=[];for(a=0;a<o.length;a++)h.push([d[a],f[a]]);p.rows=h,p.showAM=!!u[3],p.isAM=(m.$date||d[c].date).getHours()<12,p.timeSeparator=u[1],m.$isBuilt=!0},m.$isSelected=function(a,b){return m.$date?0===b?a.getHours()===m.$date.getHours():1===b?a.getMinutes()===m.$date.getMinutes():void 0:!1},m.$isDisabled=function(a,b){var c;return 0===b?c=a.getTime()+6e4*s.minute:1===b&&(c=a.getTime()+36e5*s.hour),c<1*o.minTime||c>1*o.maxTime},p.$arrowAction=function(a,b){"picker"===o.arrowBehavior?m.$setTimeByStep(a,b):m.$moveIndex(a,b)},m.$setTimeByStep=function(a,b){{var c=new Date(m.$date),d=c.getHours(),e=(g(c,"h").length,c.getMinutes());g(c,"mm").length}0===b?c.setHours(d-parseInt(o.hourStep,10)*a):c.setMinutes(e-parseInt(o.minuteStep,10)*a),m.select(c,b,!0),n.$digest()},m.$moveIndex=function(a,b){var c;0===b?(c=new Date(1970,0,1,s.hour+a*o.length,s.minute),angular.extend(s,{hour:c.getHours()})):1===b&&(c=new Date(1970,0,1,s.hour,s.minute+a*o.length*o.minuteStep),angular.extend(s,{minute:c.getMinutes()})),m.$build()},m.$onMouseDown=function(a){if("input"!==a.target.nodeName.toLowerCase()&&a.preventDefault(),a.stopPropagation(),l){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},m.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return m.hide(!0);var b=new Date(m.$date),c=b.getHours(),d=g(b,"h").length,f=b.getMinutes(),h=g(b,"mm").length,i=/(37|39)/.test(a.keyCode),j=2+1*!!u[3];i&&(37===a.keyCode?q=1>q?j-1:q-1:39===a.keyCode&&(q=j-1>q?q+1:0));var k=[0,d];0===q?(38===a.keyCode?b.setHours(c-parseInt(o.hourStep,10)):40===a.keyCode&&b.setHours(c+parseInt(o.hourStep,10)),k=[0,d]):1===q?(38===a.keyCode?b.setMinutes(f-parseInt(o.minuteStep,10)):40===a.keyCode&&b.setMinutes(f+parseInt(o.minuteStep,10)),k=[d+1,d+1+h]):2===q&&(i||m.switchMeridian(),k=[d+1+h+1,d+1+h+3]),m.select(b,q,!0),e(k[0],k[1]),n.$digest()}};var v=m.init;m.init=function(){return k&&o.useNative?(b.prop("type","time"),void b.css("-webkit-appearance","textfield")):(l&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",j)),void v())};var w=m.destroy;m.destroy=function(){k&&o.useNative&&b.off("click",j),w()};var x=m.show;m.show=function(){x(),setTimeout(function(){m.$element.on(l?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b.on("keydown",m.$onKeyDown)})};var y=m.hide;return m.hide=function(a){m.$isShown&&(m.$element.off(l?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b.off("keydown",m.$onKeyDown),y(a))},m}var k=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),l="createTouch"in b.document&&k;return a.lang||(a.lang=f.id),j.defaults=a,j}]}).directive("bsTimepicker",["$window","$parse","$q","$locale","dateFilter","$timepicker","$dateParser","$timeout",function(a,b,c,d,e,f,g){{var h=f.defaults,i=/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent);a.requestAnimationFrame||a.setTimeout}return{restrict:"EAC",require:"ngModel",link:function(a,b,c,d){var j={scope:a,controller:d};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown"],function(a){angular.isDefined(c[a])&&(j[a]=c[a])}),c.bsShow&&a.$watch(c.bsShow,function(a){k&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(timepicker),?/i)),a===!0?k.show():k.hide())}),i&&(j.useNative||h.useNative)&&(j.timeFormat="HH:mm");var k=f(b,d,j);j=k.$options;var l=g({format:j.timeFormat,lang:j.lang});angular.forEach(["minTime","maxTime"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){k.$options[a]=l.getTimeForAttribute(a,b),!isNaN(k.$options[a])&&k.$build()})}),a.$watch(c.ngModel,function(){k.update(d.$dateValue)},!0),d.$parsers.unshift(function(a){if(!a)return void d.$setValidity("date",!0);var b=angular.isDate(a)?a:l.parse(a,d.$dateValue);if(!b||isNaN(b.getTime()))return void d.$setValidity("date",!1);var c=isNaN(j.minTime)||b.getTime()>=j.minTime,f=isNaN(j.maxTime)||b.getTime()<=j.maxTime,g=c&&f;if(d.$setValidity("date",g),d.$setValidity("min",c),d.$setValidity("max",f),g)return d.$dateValue=b,"string"===j.timeType?e(b,j.modelTimeFormat||j.timeFormat):"number"===j.timeType?d.$dateValue.getTime():"iso"===j.timeType?d.$dateValue.toISOString():new Date(d.$dateValue)}),d.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===j.timeType?l.parse(a,null,j.modelTimeFormat):new Date(a),d.$dateValue=b,d.$dateValue}),d.$render=function(){b.val(!d.$dateValue||isNaN(d.$dateValue.getTime())?"":e(d.$dateValue,j.timeFormat))},a.$on("$destroy",function(){k&&k.destroy(),j=null,k=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var a=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF",function(c,d,e,f,g,h,i,j,k){function l(b,c){function f(){u.$emit(t.prefixEvent+".show",r)}function g(){return u.$emit(t.prefixEvent+".hide",r),blur&&"focus"===t.trigger?b[0].blur():void 0}function h(){return"body"===t.container?j.offset(t.target[0]||b[0]):j.position(t.target[0]||b[0])}function l(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d;break;case"bottom":e.top=b.top+b.height}return e}var r={},s=b[0].nodeName.toLowerCase(),t=r.$options=angular.extend({},a,c);r.$promise=n(t.template);var u=r.$scope=t.scope&&t.scope.$new()||d.$new();if(t.delay&&angular.isString(t.delay)){var v=t.delay.split(",").map(parseFloat);t.delay=v.length>1?{show:v[0],hide:v[1]}:v[0]}t.title&&(r.$scope.title=t.title),u.$hide=function(){u.$$postDigest(function(){r.hide()})},u.$show=function(){u.$$postDigest(function(){r.show()})},u.$toggle=function(){u.$$postDigest(function(){r.toggle()})},r.$isShown=u.$isShown=!1;var w,x;t.contentTemplate&&(r.$promise=r.$promise.then(function(a){var b=angular.element(a);return n(t.contentTemplate).then(function(a){var c=m('[ng-bind="content"]',b[0]);return c.length||(c=m('[ng-bind="title"]',b[0])),c.removeAttr("ng-bind").html(a),b[0].outerHTML})}));var y,z,A,B;return r.$promise.then(function(a){angular.isObject(a)&&(a=a.data),t.html&&(a=a.replace(q,'ng-bind-html="')),a=o.apply(a),A=a,y=e(a),r.init()}),r.init=function(){t.delay&&angular.isNumber(t.delay)&&(t.delay={show:t.delay,hide:t.delay}),"self"===t.container?B=b:angular.isElement(t.container)?B=t.container:t.container&&(B=m(t.container));var a=t.trigger.split(" ");angular.forEach(a,function(a){"click"===a?b.on("click",r.toggle):"manual"!==a&&(b.on("hover"===a?"mouseenter":"focus",r.enter),b.on("hover"===a?"mouseleave":"blur",r.leave),"button"===s&&"hover"!==a&&b.on(p?"touchstart":"mousedown",r.$onFocusElementMouseDown))}),t.target&&(t.target=angular.isElement(t.target)?t.target:m(t.target)),t.show&&u.$$postDigest(function(){"focus"===t.trigger?b[0].focus():r.show()})},r.destroy=function(){for(var a=t.trigger.split(" "),c=a.length;c--;){var d=a[c];"click"===d?b.off("click",r.toggle):"manual"!==d&&(b.off("hover"===d?"mouseenter":"focus",r.enter),b.off("hover"===d?"mouseleave":"blur",r.leave),"button"===s&&"hover"!==d&&b.off(p?"touchstart":"mousedown",r.$onFocusElementMouseDown))}z&&(z.remove(),z=null),clearTimeout(w),u.$destroy()},r.enter=function(){return clearTimeout(w),x="in",t.delay&&t.delay.show?void(w=setTimeout(function(){"in"===x&&r.show()},t.delay.show)):r.show()},r.show=function(){u.$emit(t.prefixEvent+".show.before",r);var a=t.container?B:null,c=t.container?null:b;z&&z.remove(),z=r.$element=y(u,function(){}),z.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}).addClass(t.placement),t.animation&&z.addClass(t.animation),t.type&&z.addClass(t.prefixClass+"-"+t.type),t.customClass&&z.addClass(t.customClass);var d=i.enter(z,a,c,f);d&&d.then&&d.then(f),r.$isShown=u.$isShown=!0,u.$$phase||u.$root&&u.$root.$$phase||u.$digest(),k(function(){r.$applyPlacement(),z.css({visibility:"visible"})}),t.keyboard&&("focus"!==t.trigger?(r.focus(),z.on("keyup",r.$onKeyUp)):b.on("keyup",r.$onFocusKeyUp))},r.leave=function(){return clearTimeout(w),x="out",t.delay&&t.delay.hide?void(w=setTimeout(function(){"out"===x&&r.hide()},t.delay.hide)):r.hide()},r.hide=function(){if(r.$isShown){u.$emit(t.prefixEvent+".hide.before",r);var a=i.leave(z,g);a&&a.then&&a.then(g),r.$isShown=u.$isShown=!1,u.$$phase||u.$root&&u.$root.$$phase||u.$digest(),t.keyboard&&null!==z&&z.off("keyup",r.$onKeyUp)}},r.toggle=function(){r.$isShown?r.leave():r.enter()},r.focus=function(){z[0].focus()},r.$applyPlacement=function(){if(z){var a=h(),b=z.prop("offsetWidth"),c=z.prop("offsetHeight"),d=l(t.placement,a,b,c);d.top+="px",d.left+="px",z.css(d)}},r.$onKeyUp=function(a){27===a.which&&r.$isShown&&(r.hide(),a.stopPropagation())},r.$onFocusKeyUp=function(a){27===a.which&&(b[0].blur(),a.stopPropagation())},r.$onFocusElementMouseDown=function(a){a.preventDefault(),a.stopPropagation(),r.$isShown?b[0].blur():b[0].focus()},r}function m(a,c){return angular.element((c||b).querySelectorAll(a))}function n(a){return f.when(g.get(a)||h.get(a)).then(function(b){return angular.isObject(b)?(g.put(a,b.data),b.data):b})}var o=String.prototype.trim,p="createTouch"in c.document,q=/ng-bind="/gi;return l}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(a,b,c,d,e){return{restrict:"EAC",scope:!0,link:function(a,b,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type","customClass"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])}),f.$observe("title",function(b){if(angular.isDefined(b)||!a.hasOwnProperty("title")){var d=a.title;a.title=c.trustAsHtml(b),angular.isDefined(d)&&e(function(){h&&h.$applyPlacement()})}}),f.bsTooltip&&a.$watch(f.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&e(function(){h&&h.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(tooltip),?/i)),a===!0?h.show():h.hide())});var h=d(b,g);a.$on("$destroy",function(){h&&h.destroy(),g=null,h=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var a=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6};this.$get=["$window","$rootScope","$tooltip",function(b,c,d){function e(b,c,e){var f={},g=angular.extend({},a,e);f=d(b,g);var h=e.scope,i=f.$scope;i.$resetMatches=function(){i.$matches=[],i.$activeIndex=0},i.$resetMatches(),i.$activate=function(a){i.$$postDigest(function(){f.activate(a)})},i.$select=function(a){i.$$postDigest(function(){f.select(a)})},i.$isVisible=function(){return f.$isVisible()},f.update=function(a){i.$matches=a,i.$activeIndex>=a.length&&(i.$activeIndex=0)},f.activate=function(a){i.$activeIndex=a},f.select=function(a){var b=i.$matches[a].value;c.$setViewValue(b),c.$render(),i.$resetMatches(),h&&h.$digest(),i.$emit(g.prefixEvent+".select",b,a)},f.$isVisible=function(){return g.minLength&&c?i.$matches.length&&angular.isString(c.$viewValue)&&c.$viewValue.length>=g.minLength:!!i.$matches.length},f.$getIndex=function(a){var b=i.$matches.length,c=b;if(b){for(c=b;c--&&i.$matches[c].value!==a;);if(!(0>c))return c}},f.$onMouseDown=function(a){a.preventDefault(),a.stopPropagation()},f.$onKeyDown=function(a){/(38|40|13)/.test(a.keyCode)&&(f.$isVisible()&&(a.preventDefault(),a.stopPropagation()),13===a.keyCode&&i.$matches.length?f.select(i.$activeIndex):38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest())};var j=f.show;f.show=function(){j(),setTimeout(function(){f.$element.on("mousedown",f.$onMouseDown),g.keyboard&&b.on("keydown",f.$onKeyDown)})};var k=f.hide;return f.hide=function(){f.$element.off("mousedown",f.$onMouseDown),g.keyboard&&b.off("keydown",f.$onKeyDown),k()},f}angular.element(b.document.body);return e.defaults=a,e}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=h.filter||f.filter,j=h.limit||f.limit,k=c.ngOptions;i&&(k+=" | "+i+":$viewValue"),j&&(k+=" | limitTo:"+j);var l=e(k),m=d(b,g,h);if(h.watchOptions){var n=l.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();a.$watch(n,function(){l.valuesFn(a,g).then(function(a){m.update(a),g.$render()})},!0)}a.$watch(c.ngModel,function(b){a.$modelValue=b,l.valuesFn(a,g).then(function(a){if(h.selectMode&&!a.length&&b.length>0)return void g.$setViewValue(g.$viewValue.substring(0,g.$viewValue.length-1));a.length>j&&(a=a.slice(0,j));var c=m.$isVisible();c&&m.update(a),(1!==a.length||a[0].value!==b)&&(!c&&m.update(a),g.$render())})}),g.$formatters.push(function(a){return l.displayValue(a)}),g.$render=function(){if(g.$isEmpty(g.$viewValue))return b.val("");var a=m.$getIndex(g.$modelValue),c=angular.isDefined(a)?m.$scope.$matches[a].label:g.$viewValue;c=angular.isObject(c)?c.label:c,b.val(c?c.replace(/<(?:.|\n)*?>/gm,"").trim():"")},a.$on("$destroy",function(){m&&m.destroy(),h=null,m=null})}}}])}(window,document);