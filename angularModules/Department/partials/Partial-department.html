<script type="text/ng-template" id="nodes_renderer.html">
    <div ui-tree-handle class="tree-node tree-node-content" id="{{node.departmentId}}">
        {{node.departmentId}}
        <div class="pull-right m-l">

        	<!-- for add department -->
        	<a href="" class="icon-grey"  data-nodrag ng-click="addNewDepartment(this)" data-placement="left" bs-tooltip data-title="Add a department under this"><i class="ti  ti-layers-alt" ></i>
        	</a>

        	<!-- for edit department-->
        	<a href="" class="icon-grey  m-h-xs" data-nodrag ng-click="editDepartment(this)" data-placement="left" bs-tooltip data-title="Edit department"><i class="fa fa-edit" ></i>
        	</a>

        	<!-- for remove department ng-if="node.parent" -->
        	<a href="" class="icon-grey m-r-xs"  data-nodrag ng-click="removeDepartment(this)" data-placement="left" bs-tooltip data-title="Remove department"><i class="fa fa-trash-o" ></i>
        	</a>
        </div>
    </div>
    <ol ui-tree-nodes="" ng-model="node.childrenObj" style="padding-left:0px;" ng-class="{hidden: collapsed}" data-horizontal="">
        <li ng-repeat="node in node.childrenObj track by $index" class="text-center" ui-tree-node ng-include="'nodes_renderer.html'">
        </li>
    </ol>
</script>

<div class="row">
	<div class="col-xs-12">
		<div class="panel">
			<div class="panel-heading font-bold text-white bg-00C853 p baab-shadow">
				Departments under {{$state.params.branchId}}
			</div>
			<div class="panel-body">
				<div class="bg-white text-center ">
					<div class="row" ui-tree="treeOptions">
						<ol ui-tree-nodes="" ng-model="data.departments"  data-horizontal="">
	            			<li  ng-repeat="node in data.departments" class="list-group list-group-gap" ui-tree-node ng-include="'nodes_renderer.html'"></li>
	          			</ol>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
