<div class=" bg-white">
	<form name="assignmentForm">




	<div class="row b-b">
		<div class="col-xs-12 font-bold" translate="{{'Penality Rules' | translate}}" >
		</div>
		<div class="col-xs-12">
			<em>Configure penalty rules for this assignment, use the below fields to construct a rule. (For eg. <strong class="text-success">Reduce</strong> 10% of this assignment's mark <strong class="text-success">from</strong> total course marks <strong class="text-success">for</strong> one time <strong class="text-success">when</strong> submission is late <strong class="text-success">by</strong> 5 days)</em>
		</div>
	</div>

	<!-- Penalty rules addition section -->
	<div class="row">		
		<div class="col-xs-12 m-t">	

			<!-- Reduce -->
			<div class="row">
				<div class="col-xs-12">
					<div class="col-xs-2">
						<i class="font-bold" translate="{{'Reduce' | translate}}"></i>
					</div>

					<div class="col-xs-4">
						<input type="number" class="form-control" name="reductionUnits" xt-validate ng-model = "penaltyObj.reductionUnits" >
					</div>

					<div class="col-xs-4">
						<button type="button" class="btn btn-default pull-left text-left" ng-model="penaltyObj.penaltyCalculationUnit" data-html="1" ng-options="unit.value as unit.label for unit in penaltyUnits" bs-select>					
						</button>
					</div>

				</div>
			</div> 



			<!-- From -->
			<div class="row">
				<div class="col-xs-12">
					<div class="col-xs-2">
						<i class="font-bold" translate="{{'From' | translate}}"></i>
					</div>

					

					<div class="col-xs-4">
						<button type="button" class="btn btn-default pull-left text-left" ng-model="penaltyObj.reduceFrom" data-html="1" ng-options="from.value as from.label for from in reduceFromMarks" bs-select>
						</button>
					</div>

				</div>
			</div>

			<!-- For -->
			<div class="row">
				<div class="col-xs-12">
					<div class="col-xs-2">
						<i class="font-bold" translate="{{'For' | translate}}"></i>
					</div>				
					<div class="col-xs-4">
						<button type="button" class="btn btn-default pull-left text-left" ng-model="penaltyObj.penaltyFrequency" data-html="1" ng-options="frequency.value as frequency.label for frequency in penaltyFrequencies" bs-select>					
						</button>
					</div>

				</div>
			</div>

			<!-- When -->
			<div class="row">
				<div class="col-xs-12">
					<div class="col-xs-2">
						<i class="font-bold" translate="{{'When' | translate}}"></i>
					</div>
					
					<div class="col-xs-4">
						<button type="button" class="btn btn-default pull-left text-left" ng-model="penaltyObj.submissionMode" data-html="1" ng-options="mode.value as mode.label for mode in penaltySubmissionModes" bs-select>					
						</button>
					</div>

				</div>
			</div>

			<!-- by -->
			<div class="row">
				<div class="col-xs-12">
					<div class="col-xs-2">
						<i class="font-bold" translate="{{'by' | translate}}"></i>
					</div>

					<div class="col-xs-4">
						<input type="number" class="form-control" name="lateTime" xt-validate ng-model = "penaltyObj.lateTime" >
					</div>

					<div class="col-xs-4">
						<button type="button" class="btn btn-default" ng-model="penaltyObj.lateTimeUnits" data-html="1" ng-options="timeUnit.value as timeUnit.label for timeUnit in penaltyTimeUnits" bs-select>					
						</button>
					</div>

				</div>
			</div>		
			
		</div>
		<div class="col-xs-12 p-v m-v-n" >
				<button class="btn  btn-material-red baab-btn m-v-n pull-right" ng-show="!ruleEditMode"  ng-click="addPenaltyRule()"> <i class="mdi-content-add m-r"></i> Add Rule</button>
				<button class="btn  btn-material-pink-500 baab-btn m-v-n pull-right" ng-show="ruleEditMode"  ng-click="ruleEditMode = false"> <i class="mdi-action-done m-r"></i> Update Rule</button>
			</div>
	</div>



	

	<!-- Penalty Rules repeater -->
	<div class="row  shadow-z-1">
		<div class="col-xs-11 m-t-xs" ng-repeat="rule in penaltyArray">	
			<div class="col-xs-10 p-v">
				{{$index + 1}}. Reduce {{rule.reductionUnits}}{{rule.penaltyCalculationUnit}} {{showReduceFrom(rule.reduceFrom)}} for {{rule.penaltyFrequency}} when {{rule.submissionMode}} by {{rule.lateTime}} {{rule.lateTimeUnits}}
			</div>
			
			<div class="col-xs-1 p-v m-v-n">
				<button class="btn  btn-material-red baab-btn m-v-n" bs-tooltip data-title="Remove Rule" data-placement="top"  ng-click="removeRule($index)"> <i class="mdi-action-delete"></i> </button>
			</div>
			<div class="col-xs-1 p-v m-v-n">
				<button class="btn  btn-material-red baab-btn m-v-n" bs-tooltip data-title="Edit Rule" data-placement="top"  ng-click="editRule(rule)"> <i class="mdi-editor-mode-edit"></i>  </button>
			</div>		
			
		</div>
	</div>


	








		<!-- <div class="form-group col-xs-12">
			<input type="text" class="form-control" float-label ng-model="ngModel.deadLine" data-date-format="dd-MM-yyyy" data-date-type="date" data-autoclose="true" data-min-date="today" name="deadLine" bs-datepicker="" autocomplete="off" placeholder="Last Date of Submission">


		</div> -->

		<!-- <div class="form-group  col-xs-12">
			<h4>
				<div class="font-bold" translate="{{'Penality Settings' | translate}}"></div>
			</h4>


			 <div class="col-xs-6">
				<div class="form-group">
					<em translate="{{'Penality on Late Submission ' | translate}}"></em>
					<select class="form-control" ng-model="ngModel.penality.lateSubmission" id="select" required>
		             	<option selected="selected"  value="" required translate="{{'Select Penality (in %)' | translate}}"></option>
		             	<option ng-repeat = "num in percentageNum" value="{{num}}">{{num}}%</option>  
		            </select>
	            </div>

				<div class="form-group">
		            <em translate="{{'Penality on Re-Submission ' | translate}}"></em>
					<select class="form-control" ng-model="ngModel.penality.reSubmission" id="select" required>
		             	<option selected="selected"  value="" required translate="{{'Select Penality (in %)' | translate}}"></option>
		             	<option ng-repeat = "num in percentageNum" value="{{num}}">{{num}}%</option>  
		            </select>
	        	</div>
            </div>
          

			<div class="col-xs-6">

				<div class="form-group">
					<em translate="{{'Penality for unattended Questions' | translate}}"></em>

		            <label class="control-label">Penality Count Method</label>
		            <div class="col-xs-6">
		                <div class="radio radio-primary">
		                    <label>
		                        <input type="radio" ng-model="ngModel.penality.unattended.unit" name="unit" id="unit1" value="percentage" checked="">
		                        Percentage of Question weightage 
		                    </label>
		                </div>
		            </div>
		            <div class="col-xs-6">
		                <div class="radio radio-primary">
		                    <label>
		                        <input type="radio" ng-model="ngModel.penality.unattended.unit" name="unit" id="unit2" value="times">
		                        Times the Question weightage
		                    </label>
		                </div>
		            </div>
		           		     
				</div>

				<div class="form-group" ng-if="ngModel.penality.unattended.unit=='percentage'" style="margin-top: 48px;">
					<select class="form-control" ng-model="ngModel.penality.unattended.value" id="select" required>
		             	<option selected="selected"  value="" required translate="{{'Select Penality (in %)' | translate}}"></option>
		             	<option ng-repeat = "num in percentageNum" value="{{num}}">{{num}}%</option>  
		            </select>
		        </div>

		        <div class="form-group" ng-if="ngModel.penality.unattended.unit=='times'" style="margin-top: -25px;">
					<input type="number" class="form-control " min="0" float-label placeholder="{{'How many times the Question weightage'|translate}}" name="penality.unattended.value" xt-validate required ng-model="ngModel.penality.unattended.value">

		        </div>
            </div>
		</div> -->

		<!-- <div class="form-group  col-xs-12">
			<h4>
				<div class="font-bold col-xs-2" translate="{{'Total Mark :' | translate}}"></div>
				<div class="font-bold col-xs-1" style="margin-left:-100px;">{{ngModel.mark.totalMark}}</div>
			</h4>
 
		</div> -->

		<!-- {{ngModel}} -->

		<!-- <div class="col-xs-12">
			<div class="btn btn-primary" ng-disabled="assignmentForm.$invalid" ng-click="questionShowActivate()">
			<span translate="{{'Add Assignment Question' | translate}}"></span>
			<div class="ripple-wrapper"></div>
			</div>
		</div> -->
	</form>
	

	<div class="col-xs-12" ng-repeat="assignment in ngModel.assignmentsModel track by $index">
		
		<div class="col-xs-12" >
			<question-viewer data="{{fnFormatObj(assignment)}}" index="1" course-element="courseElement"></question-viewer>
		</div>
		
		<div class="col-xs-12">
			<i class="pull-right mdi-av-playlist-add text-2x" data-placement="left" bs-dropdown="dropDown($index)"></i>		
		</div>

	</div>


</div>